{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "Récupération mot de passe" %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/login.css' %}">
{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-brand">
        <div class="brand-content">
            <div class="brand-logo">
                BENJAMIN<br>
                <span style="font-size: 0.6em; letter-spacing: 0.2em;">IMMOBILIER</span>
            </div>
            <div class="brand-subtitle">INTRANET</div>
        </div>
    </div>

    <div class="login-form-panel">
        <div class="login-form-wrapper">

            <div class="login-header">
                <h1>{% trans "Mot de passe oublié ?" %}</h1>
                <p>{% trans "Entrez votre email pour recevoir un lien." %}</p>
            </div>

            <form method="post">
                {% csrf_token %}

                <div class="form-group">
                    <label class="form-label">{% trans "Adresse Email" %}</label>
                    <div class="input-container">
                        {{ form.email }}
                        <i class="bi bi-envelope input-icon"></i>
                    </div>
                    {% if form.email.errors %}
                    <div class="text-danger small mt-1">{{ form.email.errors }}</div>
                    {% endif %}
                </div>

                <button type="submit" class="btn-login">
                    {% trans "Envoyer le lien" %} <i class="bi bi-arrow-right"></i>
                </button>

                <div class="login-footer">
                    <a href="{% url 'two_factor:login' %}" class="btn-link">
                        {% trans "Retour à la connexion" %}
                    </a>
                </div>

            </form>

            <div class="copyright">
                &copy; {% now "Y" %} Benjamin Immobilier
            </div>

        </div>
    </div>
</div>

<script>
    document.querySelectorAll(".login-form-wrapper input").forEach(el => {
        el.classList.add("form-control");
    });
</script>
{% endblock %}